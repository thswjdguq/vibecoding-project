# 홈 대시보드 통합 및 위젯 최적화 - 21

## 작업 개요

모든 핵심 기능을 **홈 대시보드**에 위젯 형태로 통합하여 사용자가 정보를 찾아 헤매지 않고 한눈에 모든 중요한 데이터를 확인할 수 있도록 구현했습니다.

---

## 핵심 철학: "No Search"

**"사용자가 정보를 찾아 헤매지 않게 모든 핵심 데이터를 첫 화면에 요약해서 제공하는 것이 이 포털의 핵심 철학입니다."**

### UX의 완성
- ❌ **Before**: 학식 보려면 → 메뉴 열기 → 학식 클릭 → 식당 선택
- ✅ **After**: 홈 화면에서 즉시 확인

---

## 주요 구현 사항

### 1. AI스마트 그리팅 (상단 히어로 섹션)

```tsx
<div className="bg-gradient-to-br from-primary-500 to-primary-600 
  rounded-3xl p-8 text-white shadow-lg">
  <h1 className="text-3xl font-bold mb-2">
    {getGreeting()}, {userName}님! 🍎
  </h1>
  <p className="text-primary-100 text-lg">
    오늘 하루도 힘내세요!
  </p>
  
  {/* 이번 주 요약 */}
  <div className="mt-6 grid grid-cols-3 gap-4">
    <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-4">
      <p className="text-sm text-primary-100 mb-1">과제</p>
      <p className="text-2xl font-bold">3개</p>
    </div>
    <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-4">
      <p className="text-sm text-primary-100 mb-1">수업</p>
      <p className="text-2xl font-bold">18시간</p>
    </div>
    <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-4">
      <p className="text-sm text-primary-100 mb-1">평균 학점</p>
      <p className="text-2xl font-bold">3.85</p>
    </div>
  </div>
</div>
```

**특징:**
- 시간대별 인사: 아침/오후/저녁
- 그라데이션 배경: `from-primary-500 to-primary-600`
- 3개 요약 카드: 과제/수업/학점
- Backdrop blur 효과

**인사말 로직:**
```typescript
const getGreeting = () => {
  if (currentHour < 12) return '좋은 아침이에요';
  if (currentHour < 18) return '좋은 오후예요';
  return '좋은 저녁이에요';
};
```

---

### 2. 퀵 액션 버튼 (4개)

```tsx
const quickActions = [
  { icon: MessageCircle, label: 'AI 챗봇', path: '/chatbot', color: 'bg-primary-500' },
  { icon: UtensilsCrossed, label: '학식', path: '/cafeteria', color: 'bg-orange-500' },
  { icon: FileText, label: '공지사항', path: '/notices', color: 'bg-blue-500' },
  { icon: TrendingUp, label: '성적', path: '/eclass/1', color: 'bg-purple-500' }
];

<div className="grid grid-cols-4 gap-3">
  {quickActions.map((action) => {
    const Icon = action.icon;
    return (
      <button
        onClick={() => navigate(action.path)}
        className={`${action.color} text-white rounded-2xl p-4 hover-lift`}
      >
        <Icon className="w-6 h-6 mx-auto mb-2" />
        <p className="text-xs font-semibold">{action.label}</p>
      </button>
    );
  })}
</div>
```

**4개 액션:**
- 🤖 AI 챗봇 (연두)
- 🍱 학식 (주황)
- 📄 공지사항 (파랑)
- 📈 성적 (보라)

---

### 3. 오늘의 학식 위젯

```tsx
const getTodayMeal = () => {
  if (currentHour < 14) {
    return { time: '점심', menu: '돈까스 + 우동', price: 5500, icon: '🍛' };
  }
  return { time: '저녁', menu: '불고기 덮밥', price: 5000, icon: '🍚' };
};

<div onClick={() => navigate('/cafeteria')} 
  className="bg-white rounded-3xl p-6 shadow-sm hover-lift cursor-pointer">
  <div className="flex items-center justify-between mb-4">
    <h3 className="font-bold text-lg">오늘의 학식</h3>
    <UtensilsCrossed className="w-5 h-5 text-primary-600" />
  </div>
  <div className="bg-gray-50 rounded-2xl p-4 mb-3">
    <div className="text-4xl text-center mb-2">{todayMeal.icon}</div>
    <p className="text-center font-semibold mb-1">{todayMeal.menu}</p>
    <p className="text-center text-primary-600 font-bold">
      {todayMeal.price.toLocaleString()}원
    </p>
  </div>
  <div className="flex items-center justify-between text-sm">
    <span className="text-gray-600">{todayMeal.time} 메뉴</span>
    <span className="text-primary-600 font-semibold flex items-center gap-1">
      자세히 보기 <ChevronRight className="w-4 h-4" />
    </span>
  </div>
</div>
```

**데이터 우선순위:**
1. 14시 이전: 점심 메뉴 표시
2. 14시 이후: 저녁 메뉴 표시

**연동 방식:**
- 클릭 시 `/cafeteria`로 이동
- 실시간 시간 인식
- 가장 가까운 식사 시간 자동 선택

---

### 4. 긴급 공지 위젯

```tsx
const urgentNotices = [
  { id: 1, title: '중간고사 일정 안내', category: '학사', isNew: true },
  { id: 2, title: '2026년 국가장학금 신청', category: '장학', isNew: true }
];

<div onClick={() => navigate('/notices')} 
  className="bg-white rounded-3xl p-6 shadow-sm hover-lift cursor-pointer">
  <div className="flex items-center justify-between mb-4">
    <h3 className="font-bold text-lg">긴급 공지</h3>
    <Bell className="w-5 h-5 text-error" />
  </div>
  <div className="space-y-3">
    {urgentNotices.map((notice) => (
      <div className="flex items-start gap-3 p-3 bg-gray-50 rounded-xl">
        <span className="px-2 py-1 bg-error text-white text-xs font-bold rounded-full">
          NEW
        </span>
        <div className="flex-grow">
          <p className="font-semibold text-sm truncate">{notice.title}</p>
          <p className="text-xs text-gray-500">{notice.category}</p>
        </div>
      </div>
    ))}
  </div>
</div>
```

**정보 우선순위:**
- 중요도: 긴급 > 일반
- 최신순 정렬
- 최대 2~3개 표시

---

### 5. E-클래스 마감 알림 위젯

```tsx
const upcomingAssignments = [
  { id: 1, course: '웹프로그래밍', title: 'HTML/CSS 레이아웃', daysLeft: 2, color: 'orange' },
  { id: 2, course: '데이터베이스', title: 'ERD 설계', daysLeft: 5, color: 'blue' },
  { id: 3, course: '알고리즘', title: '정렬 구현', daysLeft: 7, color: 'purple' }
];

<div className="md:col-span-2 bg-white rounded-3xl p-6 shadow-sm">
  <h3 className="font-bold text-lg mb-4">마감 임박 과제</h3>
  <div className="space-y-3">
    {upcomingAssignments.map((assignment) => (
      <div className="flex items-center justify-between p-4 bg-gray-50 rounded-2xl">
        <div className="flex items-center gap-3">
          <div className={`w-1 h-12 bg-${assignment.color}-500 rounded-full`} />
          <div>
            <p className="font-semibold">{assignment.title}</p>
            <p className="text-sm text-gray-500">{assignment.course}</p>
          </div>
        </div>
        <span className={`px-3 py-1 rounded-full text-sm font-bold ${
          assignment.daysLeft <= 2 
            ? 'bg-error text-white'
            : assignment.daysLeft <= 5
            ? 'bg-orange-500 text-white'
            : 'bg-gray-200 text-gray-700'
        }`}>
          D-{assignment.daysLeft}
        </span>
      </div>
    ))}
  </div>
</div>
```

**우선순위 로직:**
1. 마감일 남은 기간 오름차순 정렬
2. D-2 이하: 빨강 (긴급)
3. D-5 이하: 주황 (주의)
4. D-7 이상: 회색 (여유)

**왼쪽 색상 바:**
- 과목별 색상 구분
- 시각적 계층 강화

---

### 6. 도서관 반납 위젯

```tsx
const libraryBooks = [
  { title: '클린 코드', dueDate: '2026-01-15', daysLeft: 2, isOverdue: false },
  { title: '리팩토링', dueDate: '2026-01-14', daysLeft: 1, isOverdue: false }
];

<div onClick={() => navigate('/mypage')} 
  className="bg-white rounded-3xl p-6 shadow-sm hover-lift cursor-pointer">
  <div className="flex items-center justify-between mb-4">
    <h3 className="font-bold text-lg">도서관 대출</h3>
    <BookOpen className="w-5 h-5 text-blue-600" />
  </div>
  {libraryBooks.slice(0, 1).map((book) => (
    <div className="bg-orange-50 border-2 border-orange-200 rounded-2xl p-4 mb-3">
      <div className="flex items-start justify-between mb-2">
        <p className="font-semibold">📚 {book.title}</p>
        <span className="px-2 py-1 bg-orange-500 text-white text-xs font-bold rounded-full">
          D-{book.daysLeft}
        </span>
      </div>
      <p className="text-sm text-gray-600">반납: {book.dueDate}</p>
    </div>
  ))}
  <div className="text-sm text-gray-600">
    ⚠️ 연체 주의! 빠른 반납 필요
  </div>
</div>
```

**연체 방지 디자인:**
- 주황색 배경: 경고 색상
- D-Day 강조
- 가장 임박한 도서 1권만 표시

---

### 7. 성적 현황 위젯

```tsx
<div onClick={() => navigate('/eclass/1')} 
  className="bg-white rounded-3xl p-6 shadow-sm hover-lift cursor-pointer">
  <div className="flex items-center justify-between mb-4">
    <h3 className="font-bold text-lg">성적 현황</h3>
    <Award className="w-5 h-5 text-primary-600" />
  </div>
  <div className="text-center mb-4">
    <p className="text-5xl font-bold text-primary-600 mb-2">3.85</p>
    <p className="text-sm text-gray-600">전체 평점</p>
  </div>
  <div className="space-y-2">
    <div className="flex justify-between text-sm">
      <span className="text-gray-600">전공 평점</span>
      <span className="font-bold">4.0</span>
    </div>
    <div className="flex justify-between text-sm">
      <span className="text-gray-600">취득 학점</span>
      <span className="font-bold">78 / 140</span>
    </div>
  </div>
</div>
```

**핵심 정보:**
- 전체 평점 (큰 폰트)
- 전공 평점
- 취득 학점 / 졸업 학점

---

## 그리드 시스템

```tsx
<div className="grid grid-cols-1 md:grid-cols-3 gap-6">
  {/* 오늘의 학식 - 1칸 */}
  {/* 긴급 공지 - 1칸 */}
  {/* 도서관 - 1칸 */}
  {/* 마감 과제 - 2칸 (더 중요) */}
  {/* 성적 현황 - 1칸 */}
</div>
```

**레이아웃:**
- 모바일: 1열 (세로 스크롤)
- 데스크톱: 3열 (카드 배치)
- 마감 과제: `md:col-span-2` (더 넓게)

---

## 일관된 디자인 시스템

### ✅ 모든 위젯 공통 스타일
```css
bg-white dark:bg-gray-800
rounded-3xl
p-6
shadow-sm
hover-lift
cursor-pointer
```

### ✅ #a2c54e 연두색 활용
- AI 그리팅 배경
- 퀵 액션(AI 챗봇)
- 학식 가격
- 성적 평점
- 운영 중 배지

### ✅ Framer Motion
```tsx
<motion.div
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  transition={{ delay: 0.1 }}
>
```

---

## 인터랙션

### 클릭 이동
모든 위젯 클릭 시 상세 페이지로 이동:
- 학식 → `/cafeteria`
- 공지 → `/notices`
- 도서관 → `/mypage`
- 과제 → `/eclass`
- 성적 → `/eclass/1`

### Hover 효과
```css
hover-lift {
  transition: transform 0.2s;
}
hover-lift:hover {
  transform: translateY(-4px);
}
```

---

## 정보 우선순위 (Priority)

### 1순위: 시간 민감 정보
- 오늘의 학식
- 마감 임박 과제
- 도서관 반납 D-Day

### 2순위: 중요 알림
- 긴급 공지
- 학습 현황 (과제, 수업)

### 3순위: 참고 정보
- 성적 현황
- 학점 통계

---

## UX 완성도

### Before (홈 화면이 없던 상태)
1. 로그인 → 뭐부터 봐야 할지 모름
2. 메뉴 → 클릭 → 페이지 → 정보 확인 (3단계)

### After (통합 대시보드)
1. 로그인 → **모든 중요 정보 한눈에 확인** (1단계)
2. 클릭 → 상세 페이지 (필요시만)

---

## 디자인 톤 통합

이제 거의 모든 페이지가 완성되었으니, **홈 화면이 전체 프로젝트의 디자인 톤을 하나로 묶어주는 역할**을 합니다.

### 통일된 요소
- ✅ rounded-3xl
- ✅ #a2c54e 연두색
- ✅ shadow-sm
- ✅ hover-lift
- ✅ Framer Motion
- ✅ 넉넉한 여백

---

## 요약

### 구현 완료
1. ✅ AI 스마트 그리팅 (시간별 인사)
2. ✅ 퀵 액션 버튼 (4개)
3. ✅ 오늘의 학식 위젯 (시간 인식)
4. ✅ 긴급 공지 위젯
5. ✅ 마감 임박 과제 (우선순위 정렬)
6. ✅ 도서관 반납 알림
7. ✅ 성적 현황
8. ✅ 그리드 레이아웃 (3열)
9. ✅ 모든 위젯 클릭 이동

### 핵심 철학
**"No Search"** - 사용자가 정보를 찾지 않아도 됨

### 파일 수정
**수정:**
- `src/pages/Home.tsx` (완전 재구성)

---

**작성**: 2026-01-13  
**최종 업데이트**: 홈 대시보드 통합 완성  
**다음 작업**: 다크모드 폴리싱 - 22
