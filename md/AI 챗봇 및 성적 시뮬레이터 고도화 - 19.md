# AI 챗봇 및 성적 시뮬레이터 고도화 - 19

## 작업 개요

AI 스마트 챗봇은 이미 완성되었으며, E-Class 수업 계획표에 **실시간 성적 시뮬레이터**를 추가하여 학생들이 평가 항목별 점수를 조정하면서 예상 총점과 등급을 즉시 확인할 수 있도록 개선했습니다.

---

## 주요 구현 사항

### 1. 성적 시뮬레이터 (Grade Simulator)

#### 위치 및 디자인
```tsx
<div className="bg-gradient-to-br from-primary-50 to-white 
  dark:from-primary-900/20 dark:to-gray-800 rounded-3xl shadow-lg p-8 
  border-2 border-primary-200 dark:border-primary-700">
  <div className="flex items-center gap-3 mb-6">
    <div className="w-12 h-12 rounded-full bg-primary-500 
      flex items-center justify-center">
      <TrendingUp className="w-6 h-6 text-white" />
    </div>
    <h2 className="text-2xl font-bold">성적 시뮬레이터</h2>
  </div>
</div>
```

**특징:**
- 위치: 수업 계획표 하단
- 배경: 그라데이션 (연두 → 화이트)
- 테두리: 2px 연두색
- TrendingUp 아이콘: 성장/향상 의미

---

### 2. 예상 총점 & 등급 디스플레이

#### 실시간 계산 로직
```typescript
const [simulatorScores, setSimulatorScores] = useState({
    attendance: 95,
    midterm: 85,
    final: 0,        // 목표 점수
    assignment: 87.5
});

// 가중치 계산
const totalScore = (
    simulatorScores.attendance * 0.1 +   // 10%
    simulatorScores.midterm * 0.3 +      // 30%
    simulatorScores.final * 0.4 +        // 40%
    simulatorScores.assignment * 0.2     // 20%
).toFixed(1);
```

**평가 비율 가중치:**
- 출석: 10%
- 중간고사: 30%
- 기말고사: 40% ← 가장 중요
- 과제: 20%

#### 총점 디스플레이 (Count-up Animation)
```tsx
<motion.p
  key={`${simulatorScores.attendance}-${simulatorScores.midterm}-${simulatorScores.final}-${simulatorScores.assignment}`}
  initial={{ scale: 1.2, opacity: 0 }}
  animate={{ scale: 1, opacity: 1 }}
  className="text-5xl font-bold text-primary-600"
>
  {totalScore}
</motion.p>
```

**애니메이션:**
- 점수 변경 시: Scale 1.2 → 1
- Opacity: 0 → 1
- Key 변경: 모든 점수 조합을 key로 사용
- 효과: 숫자가 커졌다 작아지는 카운트 업

---

### 3. 실시간 학점 산출 UI

#### 등급 계산 로직
```typescript
{(() => {
  const total = (
    simulatorScores.attendance * 0.1 +
    simulatorScores.midterm * 0.3 +
    simulatorScores.final * 0.4 +
    simulatorScores.assignment * 0.2
  );
  let grade = 'F';
  let color = 'text-gray-500';
  
  if (total >= 95) { grade = 'A+'; color = 'text-primary-600'; }
  else if (total >= 90) { grade = 'A0'; color = 'text-primary-600'; }
  else if (total >= 85) { grade = 'B+'; color = 'text-blue-600'; }
  else if (total >= 80) { grade = 'B0'; color = 'text-blue-600'; }
  else if (total >= 75) { grade = 'C+'; color = 'text-yellow-600'; }
  else if (total >= 70) { grade = 'C0'; color = 'text-yellow-600'; }
  else if (total >= 65) { grade = 'D+'; color = 'text-orange-600'; }
  else if (total >= 60) { grade = 'D0'; color = 'text-orange-600'; }
  else { grade = 'F'; color = 'text-error'; }

  return (
    <motion.p
      key={total}
      initial={{ scale: 1.2, opacity: 0 }}
      animate={{ scale: 1, opacity: 1 }}
      className={`text-5xl font-bold ${color}`}
    >
      {grade}
    </motion.p>
  );
})()}
```

**등급 기준:**
```
95~100: A+ (연두)
90~95:  A0 (연두)
85~90:  B+ (파랑)
80~85:  B0 (파랑)
75~80:  C+ (노랑)
70~75:  C0 (노랑)
65~70:  D+ (주황)
60~65:  D0 (주황)
0~60:   F  (빨강)
```

**색상 코딩:**
- A등급: `text-primary-600` (연두) ← 우수
- B등급: `text-blue-600` (파랑)
- C등급: `text-yellow-600` (노랑)
- D등급: `text-orange-600` (주황)
- F등급: `text-error` (빨강) ← 경고

---

### 4. 평가 항목별 입력 카드

#### 슬라이더 Input 디자인
```tsx
{/* 출석 */}
<div className="bg-white dark:bg-gray-800 rounded-2xl p-5">
  <div className="flex items-center justify-between mb-3">
    <div>
      <h4 className="font-semibold">출석</h4>
      <p className="text-xs text-gray-500">10% 반영</p>
    </div>
    <span className="text-2xl font-bold text-blue-600">
      {simulatorScores.attendance}
    </span>
  </div>
  <input
    type="range"
    min="0"
    max="100"
    value={simulatorScores.attendance}
    onChange={(e) => setSimulatorScores({ 
      ...simulatorScores, 
      attendance: Number(e.target.value) 
    })}
    className="w-full h-2 bg-gray-200 rounded-full 
      appearance-none cursor-pointer accent-blue-500"
  />
  <div className="flex justify-between text-xs text-gray-500 mt-1">
    <span>0점</span>
    <span>100점</span>
  </div>
</div>
```

**4개 카드:**
1. **출석** (파랑)
   - 기본값: 95점
   - 비중: 10%
   - Accent 색상: `accent-blue-500`

2. **중간고사** (보라)
   - 기본값: 85점
   - 비중: 30%
   - Accent 색상: `accent-purple-500`

3. **기말고사** (연두, 강조)
   - 기본값: 0점 ← 목표 점수
   - 비중: 40%
   - Accent 색상: `accent-primary-500`
   - 테두리: `border-2 border-primary-300` (강조)
   - 레이블: "40% 반영 (목표)"

4. **과제** (주황)
   - 기본값: 87.5점
   - 비중: 20%
   - Accent 색상: `accent-orange-500`
   - Step: 0.5 (소수점 가능)

---

### 5. 스마트폰 앱스러운 UX

#### 카드 레이아웃
```
┌─────────────────────────────────────┐
│ 📈 성적 시뮬레이터                  │
├─────────────────────────────────────┤
│ ┌────────────┬────────────┐         │
│ │ 예상 총점  │  예상 등급 │         │
│ │   85.3     │     B+     │         │
│ └────────────┴────────────┘         │
│                                     │
│ ┌──────────┐ ┌──────────┐          │
│ │  출석    │ │ 중간고사  │          │
│ │  [95]    │ │  [85]    │          │
│ │ ━━━━━━━  │ │ ━━━━━━━  │          │
│ └──────────┘ └──────────┘          │
│                                     │
│ ┌──────────┐ ┌──────────┐          │
│ │ 기말고사  │ │ 과제평균  │          │
│ │  [0]     │ │ [87.5]   │          │
│ │ ━━━━━━━  │ │ ━━━━━━━  │          │
│ └──────────┘ └──────────┘          │
│                                     │
│ 💡 슬라이더를 움직여 목표 점수 설정 │
└─────────────────────────────────────┘
```

**디자인 특징:**
- 카드 형태: 복잡한 표 대신 깔끔한 카드
- 2열 그리드: `grid-cols-1 md:grid-cols-2`
- 큰 숫자: `text-2xl` ~ `text-5xl`
- 슬라이더: 직관적인 range input
- 시원시원한 여백: `p-5`, `gap-4`

---

### 6. 인터랙션 흐름

```
1. 수업 계획표 탭 접속
   ↓
2. 스크롤하여 성적 시뮬레이터 도달
   ↓
3. 기본 점수 확인 (출석 95, 중간 85, 과제 87.5)
   ↓
4. 기말고사 슬라이더 조정 (0 → 90)
   ↓
5. 실시간 총점 변화 확인 (Count-up 애니메이션)
   ↓
6. 등급 색상 변화 확인 (B+ → A0, 파랑 → 연두)
   ↓
7. 목표 등급 달성 위한 점수 확인
```

---

## 계산 예시

### 기본 상태
```
출석:     95 × 0.1  = 9.5
중간고사:  85 × 0.3  = 25.5
기말고사:   0 × 0.4  = 0
과제:    87.5 × 0.2 = 17.5
──────────────────────
총점:               52.5 (F)
```

### 기말고사 90점 목표
```
출석:     95 × 0.1  = 9.5
중간고사:  85 × 0.3  = 25.5
기말고사:  90 × 0.4  = 36.0  ← 변경
과제:    87.5 × 0.2 = 17.5
──────────────────────
총점:               88.5 (B+)
```

### A0 달성 위한 기말고사 점수
```
목표 총점: 90점
현재 합계: 52.5 (기말 제외)
필요 점수: (90 - 52.5) / 0.4 = 93.75

→ 기말고사 94점 이상 필요!
```

---

## AI 챗봇 (이미 완성)

### 주요 기능 요약
1. ✅ 대화형 인터페이스
2. ✅ 퀵 커맨드 (학식/과제/학점/도서관)
3. ✅ 타이핑 애니메이션
4. ✅ Framer Motion 효과
5. ✅ #a2c54e 테마

---

## 요약

### 구현 완료
1. ✅ AI 챗봇 (17번에서 완료)
2. ✅ 수업 계획표 (18번에서 기본 완료)
3. ✅ **성적 시뮬레이터** (NEW!)
   - 실시간 총점 계산
   - 예상 등급 표시 (색상 코딩)
   - 슬라이더 입력 (4개 항목)
   - Count-up 애니메이션
   - 목표 점수 설정 (기말고사)
4. ✅ 평가 비율 가중치 (10%/30%/40%/20%)
5. ✅ 스마트폰 앱스러운 카드 UI

### 디자인 원칙
- **#a2c54e 테마**: 연두색 포인트
- **rounded-3xl**: 부드러운 곡선
- **실시간 반응**: 즉시 재계산
- **시각적 피드백**: 색상, 애니메이션

### 파일 수정
**수정:**
- `src/pages/CourseDetail.tsx` (성적 시뮬레이터 추가)

---

**작성**: 2026-01-13  
**최종 업데이트**: 실시간 성적 시뮬레이터 완성  
**다음 작업**: 최종 통합 테스트 및 배포 준비 - 20
