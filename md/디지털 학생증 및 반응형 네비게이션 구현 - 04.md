# 디지털 학생증 및 반응형 네비게이션 구현 - 04

## 작업 개요

디지털 학생증 스타일의 ID 카드, 헤더 유틸리티 아이콘 메뉴, 대시보드 위젯 재배치(2단 레이아웃), 반응형 아코디언 사이드바를 구현하여 더욱 실용적이고 전문적인 캠퍼스 포털로 업그레이드했습니다.

---

## 구현 내용

### 1. 디지털 학생증 (Digital ID Card)

#### 📱 컴포넌트 생성
**파일**: `src/components/DigitalIDCard.tsx`

#### 디자인 특징
- **그라데이션 배경**: `from-primary-500 to-primary-700` (연두색)
- **QR 코드**: 학생 인증용 140×140px
- **정보 그리드**: 학번, 학과, 학년, 상태

#### 구조
```typescript
<div className="bg-gradient-to-br from-primary-500 to-primary-700 rounded-3xl">
  {/* 배경 패턴 */}
  <div className="absolute inset-0 opacity-10">
    <div className="w-64 h-64 bg-white rounded-full blur-3xl"></div>
  </div>
  
  {/* 좌측: 학생 정보 (2/3) */}
  <div className="md:col-span-2">
    <h2>김민수</h2>
    <div className="grid grid-cols-2 gap-4">
      {/* 학번, 학과, 학년, 상태 */}
    </div>
  </div>
  
  {/* 우측: QR 코드 (1/3) */}
  <div className="bg-white p-4 rounded-2xl">
    <QRCodeSVG value="SHINGU-STUDENT-..." size={140} />
  </div>
  
  {/* 하단: 유효기간 바 */}
  <div className="border-t border-white/20">
    <span>유효기간: 2026.03.01 ~ 2027.02.28</span>
  </div>
</div>
```

#### 정보 아이콘
각 정보 항목은 둥근 아이콘 배경과 함께 표시:
- **학번** (Hash): `#a2c54e/20` 배경
- **학과** (GraduationCap): 같은 스타일
- **학년** (Award): 같은 스타일
- **상태** (User): 재학중 표시

---

### 2. 헤더 유틸리티 (External Links)

#### 🔗 추가된 외부 링크
```typescript
const externalLinks = [
  {
    name: 'Office 365',
    icon: <FileText />,
    url: 'https://www.office.com',
    color: 'text-blue-600'
  },
  {
    name: 'Gmail',
    icon: <Mail />,
    url: 'https://gmail.com',
    color: 'text-red-600'
  },
  {
    name: '증명발급',
    icon: <FileText />,
    url: '#',
    color: 'text-green-600'
  },
];
```

#### UI 배치
위치: **헤더 우측 상단** (검색, 알림, 다크모드, 프로필 앞)

#### 스타일
- 작고 세련된 아이콘 (16×16px)
- 각 링크별 고유 색상
- Hover 시 회색 배경 (`hover:bg-gray-100`)
- Tooltip 표시 (하단 중앙)

```typescript
<a className="group relative p-2 rounded-xl hover:bg-gray-100">
  <div className={link.color}>{link.icon}</div>
  
  {/* Tooltip */}
  <div className="absolute top-full mt-2 left-1/2 -translate-x-1/2 
    px-2 py-1 bg-gray-900 text-white text-xs rounded-lg 
    opacity-0 group-hover:opacity-100 transition">
    {link.name}
  </div>
</a>
```

---

### 3. 반응형 사이드바 (Accordion Menu)

#### 📦 컴포넌트 생성
**파일**: `src/components/Sidebar.tsx`

#### 기능
- ✅ 아코디언 형식 메뉴 (메인, 학습, 학사)
- ✅ 데스크톱: 접었다 펴는 기능
- ✅ 모바일: 오버레이 + 슬라이드인
- ✅ Active 상태 강조

#### 메뉴 구조
```typescript
const menuSections = [
  {
    title: '메인',
    items: [
      { name: '홈', path: '/', icon: <HomeIcon /> },
      { name: '공지사항', path: '/notices', icon: <Bell /> },
    ]
  },
  {
    title: '학습',
    items: [
      { name: 'AI 챗봇', path: '/chatbot', icon: <MessageSquare /> },
      { name: '학점 계산기', path: '/grade', icon: <Calculator /> },
      { name: '강의 리뷰', path: '/review', icon: <Star /> },
      { name: '학사 일정', path: '/calendar', icon: <Calendar /> },
    ]
  },
  {
    title: '학사',
    items: [
      { name: '수강 신청', path: '/course-registration', icon: <BookOpen /> },
      { name: '성적 조회', path: '/grades', icon: <Star /> },
    ]
  },
];
```

#### 반응형 동작
```typescript
// App.tsx - 레이아웃 자동 조정
<main className={`pt-16 min-h-screen transition-all ${
  sidebarOpen ? 'lg:ml-[280px]' : 'ml-0'
}`}>
```

**모바일** (<lg):
- 기본값: 닫힘
- 오버레이 배경 (검은색 50% 투명도)
- 좌측에서 슬라이드인

**데스크톱** (≥lg):
- 기본값: 열림
- 토글 가능
- 메인 콘텐츠 자동 조정

#### 아코디언 애니메이션
```typescript
<AnimatePresence>
  {expandedSections.includes(section.title) && (
    <motion.div
      initial={{ height: 0, opacity: 0 }}
      animate={{ height: 'auto', opacity: 1 }}
      exit={{ height: 0, opacity: 0 }}
      transition={{ duration: 0.2 }}
    >
      {section.items.map((item) => (
        <Link className={isActive(item.path) ? 
          'bg-primary-100 text-primary-700' : 
          'text-gray-700'}>
```

---

### 4. 대시보드 위젯 재배치

#### 📊 새로운 레이아웃

**상단**: 디지털 학생증 (전체 너비)

**중단**: 2단 그리드
- **좌측**: 오늘의 수업 (타임라인 형식)
- **우측**: 최신 공지사항 (리스트 형식)

**하단**: 3단 통계 카드
- 졸업 학점 이수율 (85%)
- 평점 평균 (4.2)
- 이번 학기 (18학점)

```typescript
<div className="space-y-6">
  {/* 1. Digital ID Card */}
  <DigitalIDCard ... />
  
  {/* 2. Main Grid - 2 columns */}
  <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
    {/* 오늘의 수업 */}
    <div className="bg-white rounded-3xl p-6 h-full">
    
    {/* 최신 공지사항 */}
    <div className="bg-white rounded-3xl p-6 h-full">
  </div>
  
  {/* 3. Quick Stats - 3 columns */}
  <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
```

---

## 파일 수정 내역

### 신규 파일

#### 1. `src/components/DigitalIDCard.tsx`
- 디지털 학생증 컴포넌트
- 그라데이션 배경 + QR 코드
- 학생 정보 그리드
- 유효기간 표시

#### 2. `src/components/Sidebar.tsx`
- 반응형 사이드바
- 아코디언 메뉴 섹션
- 오버레이 (모바일)
- Active 상태 강조

### 수정 파일

#### 3. `src/App.tsx`
**주요 변경사항:**
- ✅ Sidebar 컴포넌트 통합
- ✅ 헤더 유틸리티 추가 (Office 365, Gmail, 증명발급)
- ✅ 사이드바 토글 상태 관리
- ✅ 레이아웃 자동 조정 (`ml-[280px]`)
- ✅ 모바일 반응형 처리

```typescript
// 외부 링크 추가
const externalLinks = [...];

// 사이드바 상태
const [sidebarOpen, setSidebarOpen] = useState(true);

// 레이아웃 조정
<main className={`pt-16 ${sidebarOpen ? 'lg:ml-[280px]' : 'ml-0'}`}>
```

#### 4. `src/pages/Home.tsx`
**주요 변경사항:**
- ✅ DigitalIDCard 추가 (최상단)
- ✅ 위젯 2단 레이아웃 (오늘의 수업 + 최신 공지사항)
- ✅ Quick Stats 카드 추가 (하단)
- ✅ 기존 QR, 도넛 차트 제거 (ID 카드로 통합)

```typescript
<DigitalIDCard
  name={studentName}
  studentId={studentId}
  department="IT소프트웨어과"
  year="3학년"
/>

<div className="grid lg:grid-cols-2 gap-6">
  {/* 오늘의 수업 */}
  {/* 최신 공지사항 */}
</div>
```

---

## 시각적 검증

### 스크린샷

![대시보드 전체 뷰](../initial_dashboard_view_1767960321736.png)

**확인 사항:**
✅ 디지털 학생증 (연두색 그라데이션)  
✅ QR 코드 140×140px  
✅ 학생 정보 (학번, 학과, 학년, 상태)  
✅ 좌측 사이드바 (아코디언 메뉴)  
✅ 헤더 유틸리티 아이콘 (우측 상단)  
✅ 오늘의 수업 + 최신 공지사항 (2단)  
✅ Quick Stats 카드 (하단 3단)  

### 데모 영상

![사이드바 토글 데모](../digital_id_sidebar_demo_1767960308926.webp)

---

## 반응형 동작

### 데스크톱 (≥1024px)
- 사이드바: 기본 열림, 토글 가능
- 메인 콘텐츠: 280px 좌측 여백
- 헤더 유틸리티: 모든 아이콘 표시
- 위젯: 2단 그리드

### 태블릿 (768px ~ 1023px)
- 사이드바: 기본 닫힘
- 메인 콘텐츠: 전체 너비
- 헤더 유틸리티: 숨김
- 위젯: 2단 유지

### 모바일 (<768px)
- 사이드바: 오버레이 슬라이드인
- 메인 콘텐츠: 전체 너비
- 헤더 유틸리티: 숨김
- 위젯: 1단 (세로 배치)
- Quick Stats: 1단 세로

---

## 사용자 경험 개선

### 1. 디지털 학생증
**장점:**
- 실제 학생증과 유사한 디자인
- QR 코드로 캠퍼스 내 인증 편의
- 모든 학생 정보 한눈에

**사용 시나리오:**
- 도서관 출입
- 식당 결제
- 시설 이용
- 신분 확인

### 2. 헤더 유틸리티
**장점:**
- 외부 서비스 빠른 접근
- 작은 아이콘으로 공간 절약
- Tooltip으로 명확한 안내

**자주 쓰는 기능:**
- Office 365: 이메일, OneDrive
- Gmail: 학교 메일
- 증명발급: 재학증명서 등

### 3. 사이드바
**장점:**
- 모든 메뉴 한곳에 집약
- 아코디언으로 정리된 구조
- 토글로 화면 공간 활용

**네비게이션:**
- 메인: 홈, 공지사항
- 학습: AI 챗봇, 학점 계산기, 강의 리뷰, 일정
- 학사: 수강 신청, 성적 조회

### 4. 위젯 재배치
**장점:**
- 2단 레이아웃으로 정보 집약도 향상
- 오늘의 수업 + 공지사항 동시 확인
- Quick Stats로 핵심 지표 파악

---

## 기술 구현

### State Management
```typescript
// App.tsx
const [sidebarOpen, setSidebarOpen] = useState(true);

// 화면 크기에 따른 자동 조정
useEffect(() => {
  const handleResize = () => {
    if (window.innerWidth < 1024) {
      setSidebarOpen(false);
    } else {
      setSidebarOpen(true);
    }
  };
  
  handleResize();
  window.addEventListener('resize', handleResize);
  return () => window.removeEventListener('resize', handleResize);
}, []);
```

### Accordion Logic
```typescript
// Sidebar.tsx
const [expandedSections, setExpandedSections] = useState(['학습']);

const toggleSection = (section: string) => {
  setExpandedSections(prev =>
    prev.includes(section)
      ? prev.filter(s => s !== section)
      : [...prev, section]
  );
};
```

### Layout Transition
```typescript
// App.tsx
<main className={`transition-all duration-300 ${
  sidebarOpen ? 'lg:ml-[280px]' : 'ml-0'
}`}>
```

**효과:**
- 300ms spring 애니메이션
- 부드러운 레이아웃 전환
- 사이드바 토글 시 메인 콘텐츠 자동 조정

---

## 접근성

### 키보드 네비게이션
✅ 사이드바 메뉴 Tab 이동  
✅ 헤더 유틸리티 Focus  
✅ Enter로 링크 활성화  

### 시각적 피드백
✅ Active 상태 명확 (연두색 배경)  
✅ Hover 상태 (회색 배경)  
✅ Focus 링 (outline)  

### 스크린 리더
✅ Semantic HTML (`<nav>`, `<main>`)  
✅ ARIA labels  
✅ Alt text (QR 코드)  

---

## 성능 최적화

### 컴포넌트 분리
- DigitalIDCard: 독립 컴포넌트
- Sidebar: 독립 컴포넌트
- 재사용성 향상

### Lazy Loading
```typescript
// Future: Route-based code splitting
const ChatBot = lazy(() => import('./pages/ChatBot'));
```

### 애니메이션 최적화
- CSS transition 사용
- Transform 속성 (GPU 가속)
- RequestAnimationFrame

---

## Before / After 비교

### Before
```
┌────────────────────────────────┐
│ Header (Simple)                │
├────────────────────────────────┤
│ Hero (Welcome)                 │
│                                │
│ Quick Access (4 cards)         │
│                                │
│ Today's Schedule               │
│ Recent Notices                 │
│ QR Code (right)                │
│ Grade Progress                 │
└────────────────────────────────┘
```

### After
```
┌──┬─────────────────────────────┐
│S │ Header + Utilities          │
│i ├─────────────────────────────┤
│d │ Digital ID Card (QR)        │
│e │                             │
│b │ ┌──────────┬──────────┐    │
│a │ │ Today's  │ Recent   │    │
│r │ │ Schedule │ Notices  │    │
│  │ └──────────┴──────────┘    │
│  │                             │
│  │ Quick Stats (3 cards)       │
└──┴─────────────────────────────┘
```

---

## 요약

**구현 완료:**
- ✅ 디지털 학생증 (QR 코드 + 학생 정보)
- ✅ 헤더 유틸리티 (Office 365, Gmail, 증명발급)
- ✅ 반응형 사이드바 (아코디언 + 토글)
- ✅ 위젯 재배치 (2단 레이아웃)

**디자인 품질:**
- 실제 학생증 느낌의 ID 카드
- 작고 세련된 유틸리티 아이콘
- 깔끔한 2단 위젯 배치
- 부드러운 사이드바 전환

**사용자 경험:**
- 한 화면에 핵심 정보 집약
- 빠른 외부 서비스 접근
- 직관적인 네비게이션
- 모바일/데스크톱 최적화

---

**작성**: 2026-01-09  
**신규 파일**: 
- `src/components/DigitalIDCard.tsx`
- `src/components/Sidebar.tsx`

**수정 파일**: 
- `src/App.tsx`
- `src/pages/Home.tsx`

**다음 작업**: 공지사항 페이지 필터 및 검색 기능 - 05
