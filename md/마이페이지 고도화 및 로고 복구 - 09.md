# 마이페이지 고도화 및 로고 복구 - 09

## 작업 개요

App.tsx의 로고 경로 문제를 해결하고 fallback 처리를 추가했으며, MyPage를 종합 대시보드로 대폭 확장하여 학적 정보, 장학금 내역, 보안 설정 등 다양한 정보를 2단 그리드 레이아웃으로 제공합니다.

---

## 주요 변경 사항

### 1. App.tsx 로고 수정

#### 로고 경로 및 Fallback 처리
```tsx
<Link to="/" className="flex items-center gap-3">
  <img 
    src="/shingu_logo.png" 
    alt="신구대학교 로고" 
    className="h-10"
    onError={(e) => {
      e.currentTarget.style.display = 'none';
      const fallback = e.currentTarget.nextElementSibling as HTMLElement;
      if (fallback) fallback.style.display = 'block';
    }}
  />
  <div className="hidden text-lg font-bold text-gray-900 dark:text-white">
    신구대학교
  </div>
</Link>
```

**변경 사항:**
- 이미지 경로: `/shingu_logo.png` (public 폴더 기준)
- onError 핸들러 추가
- Fallback 텍스트 ("신구대학교") 준비

**동작:**
1. 이미지 정상 로드 → 로고 표시
2. 이미지 로드 실패 → 이미지 숨김, 텍스트 표시

---

### 2. MyPage 레이아웃 개편

#### Before: 단일 컬럼
```
프로필 카드
기본 정보
비밀번호 변경 버튼
```

#### After: 2단 그리드
```
프로필 카드 (전체 너비)

좌측 컬럼          │ 우측 컬럼
─────────────────┼─────────────────
학적 정보         │ 장학 내역
기본 정보         │ 계정 및 보안
```

**레이아웃 코드:**
```tsx
{/* 프로필 카드 - 전체 너비 */}
<div className="bg-white rounded-3xl shadow-sm p-8">
  {/* ... */}
</div>

{/* 2단 그리드 */}
<div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
  {/* 좌측 컬럼 */}
  <div className="space-y-8">
    {/* 학적 정보 */}
    {/* 기본 정보 */}
  </div>

  {/* 우측 컬럼 */}
  <div className="space-y-8">
    {/* 장학 내역 */}
    {/* 계정 및 보안 */}
  </div>
</div>
```

---

## 신규 섹션 상세

### 1. 학적 정보 섹션

#### 구성 요소
```tsx
<div className="bg-white rounded-3xl shadow-sm p-8">
  <div className="flex items-center gap-3 mb-6">
    <BookOpen className="w-6 h-6 text-primary-600" />
    <h3 className="text-2xl font-bold">학적 정보</h3>
  </div>

  {/* 학적 상태, 지도교수 */}
  <div className="grid grid-cols-2 gap-4">
    <div className="p-4 bg-gray-50 rounded-2xl">
      <p className="text-sm text-gray-500">학적 상태</p>
      <p className="text-lg font-semibold">
        <span className="w-2 h-2 bg-green-500 rounded-full"></span>
        재학
      </p>
    </div>
    <div className="p-4 bg-gray-50 rounded-2xl">
      <p className="text-sm text-gray-500">지도교수</p>
      <p className="text-lg font-semibold">김지도 교수</p>
    </div>
  </div>

  {/* 입학일자 */}
  <div className="p-4 bg-gray-50 rounded-2xl">
    <p className="text-sm text-gray-500">입학일자</p>
    <p className="text-lg font-semibold">2024년 03월 01일</p>
  </div>

  {/* 취득 학점 및 평점 위젯 */}
  <div className="grid grid-cols-2 gap-4">
    {/* 총 취득 학점 */}
    <div className="text-center p-6 bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl">
      <TrendingUp className="w-8 h-8 text-primary-600 mx-auto mb-2" />
      <p className="text-sm text-gray-600">총 취득 학점</p>
      <p className="text-3xl font-bold text-primary-600">110</p>
      <p className="text-sm text-gray-500">/ 130</p>
    </div>

    {/* 평균 평점 */}
    <div className="text-center p-6 bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl">
      <Award className="w-8 h-8 text-primary-600 mx-auto mb-2" />
      <p className="text-sm text-gray-600">평균 평점</p>
      <p className="text-3xl font-bold text-primary-600">4.2</p>
      <p className="text-sm text-gray-500">/ 4.5</p>
    </div>
  </div>
</div>
```

**표시 정보:**
- 학적 상태: 재학 (초록 점으로 시각화)
- 지도교수: 김지도 교수
- 입학일자: 2024년 03월 01일
- 총 취득 학점: 110/130 (그라데이션 배경, TrendingUp 아이콘)
- 평균 평점: 4.2/4.5 (그라데이션 배경, Award 아이콘)

**디자인:**
- 위젯 배경: `bg-gradient-to-br from-primary-50 to-primary-100`
- 숫자 강조: `text-3xl font-bold text-primary-600`
- 중앙 정렬: `text-center`

---

### 2. 장학 및 등록 내역 섹션

#### 구조
```tsx
<div className="bg-white rounded-3xl shadow-sm p-8">
  <div className="flex items-center gap-3 mb-6">
    <CreditCard className="w-6 h-6 text-primary-600" />
    <h3 className="text-2xl font-bold">장학 내역</h3>
  </div>

  <div className="space-y-4">
    {scholarships.map((scholarship) => (
      <div className="p-5 bg-gray-50 rounded-2xl hover:bg-primary-50 transition">
        <div className="flex items-start justify-between">
          <div>
            <h4 className="font-semibold">{scholarship.name}</h4>
            <p className="text-sm text-gray-500">{scholarship.semester}</p>
          </div>
          <p className="text-lg font-bold text-primary-600">
            {scholarship.amount}
          </p>
        </div>
      </div>
    ))}
  </div>

  {/* 총 수혜 장학금 */}
  <div className="mt-6 p-4 bg-primary-50 rounded-2xl">
    <div className="flex items-center justify-between">
      <span className="text-sm font-semibold">총 수혜 장학금</span>
      <span className="text-xl font-bold text-primary-600">5,800,000원</span>
    </div>
  </div>
</div>
```

**장학금 리스트:**
1. 성적우수장학금 - 2025-2학기 - 1,500,000원
2. 국가장학금 I유형 - 2025-2학기 - 2,000,000원
3. 교내근로장학금 - 2025-1학기 - 800,000원
4. 성적우수장학금 - 2025-1학기 - 1,500,000원

**총 수혜 장학금:** 5,800,000원

**인터랙션:**
- Hover 시 배경색 변경: `hover:bg-primary-50`
- 금액 강조: `text-lg font-bold text-primary-600`

---

### 3. 계정 및 보안 설정 섹션

#### 구조
```tsx
<div className="bg-white rounded-3xl shadow-sm p-8">
  <div className="flex items-center gap-3 mb-6">
    <Shield className="w-6 h-6 text-primary-600" />
    <h3 className="text-2xl font-bold">계정 및 보안</h3>
  </div>

  {/* 비밀번호 변경 */}
  <button
    onClick={() => navigate('/mypage/password-change')}
    className="w-full flex items-center justify-between p-5 bg-gray-50 rounded-2xl hover:bg-gray-100 transition group"
  >
    <div className="flex items-center gap-3">
      <Lock className="w-5 h-5" />
      <span>비밀번호 변경</span>
    </div>
    <svg>...</svg> {/* 우측 화살표 */}
  </button>

  {/* 2단계 인증 토글 */}
  <div className="flex items-center justify-between p-5 bg-gray-50 rounded-2xl">
    <div className="flex items-center gap-3">
      <Shield className="w-5 h-5" />
      <div>
        <p className="font-semibold">2단계 인증</p>
        <p className="text-sm text-gray-500">추가 보안 계층</p>
      </div>
    </div>
    <button
      onClick={() => setTwoFactorAuth(!twoFactorAuth)}
      className={`w-11 h-6 rounded-full ${
        twoFactorAuth ? 'bg-primary-600' : 'bg-gray-300'
      }`}
    >
      <span className={`w-4 h-4 rounded-full bg-white ${
        twoFactorAuth ? 'translate-x-6' : 'translate-x-1'
      }`} />
    </button>
  </div>

  {/* 알림 수신 설정 토글 */}
  <div className="flex items-center justify-between p-5 bg-gray-50 rounded-2xl">
    <div className="flex items-center gap-3">
      <Bell className="w-5 h-5" />
      <div>
        <p className="font-semibold">알림 수신</p>
        <p className="text-sm text-gray-500">이메일 및 푸시 알림</p>
      </div>
    </div>
    <button
      onClick={() => setNotifications(!notifications)}
      className={/* 동일한 토글 스타일 */}
    />
  </div>
</div>
```

**기능:**
1. **비밀번호 변경**
   - 클릭 시 `/mypage/password-change` 이동
   - Hover 시 배경 변경 및 화살표 색상 변경

2. **2단계 인증 토글**
   - 상태: `useState(false)`
   - ON: `bg-primary-600` (연두색)
   - OFF: `bg-gray-300`
   - 토글 버튼 애니메이션

3. **알림 수신 설정 토글**
   - 상태: `useState(true)`
   - 동일한 토글 UI
   - 이메일 및 푸시 알림 설명

**토글 구현:**
```tsx
const [twoFactorAuth, setTwoFactorAuth] = useState(false);
const [notifications, setNotifications] = useState(true);

<button
  onClick={() => setTwoFactorAuth(!twoFactorAuth)}
  className={`relative inline-flex h-6 w-11 items-center rounded-full transition ${
    twoFactorAuth ? 'bg-primary-600' : 'bg-gray-300'
  }`}
>
  <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition ${
    twoFactorAuth ? 'translate-x-6' : 'translate-x-1'
  }`} />
</button>
```

---

## 디자인 원칙 준수

### ✅ #a2c54e 컬러 테마
- 아이콘: `text-primary-600`
- 위젯 배경: `from-primary-50 to-primary-100`
- 토글 ON: `bg-primary-600`
- 금액 강조: `text-primary-600`

### ✅ rounded-3xl 카드 스타일
- 모든 섹션 카드: `rounded-3xl`
- 내부 항목: `rounded-2xl`

### ✅ shadow-sm
- 모든 카드: `shadow-sm` (은은한 그림자)

### ✅ 넓은 간격
- 섹션 간: `space-y-8` (32px)
- 그리드 갭: `gap-8` (32px)
- 항목 간: `space-y-4`, `space-y-6`

### ✅ 아이콘 배치
- BookOpen: 학적 정보
- CreditCard: 장학 내역
- Shield: 계정 및 보안
- TrendingUp: 취득 학점
- Award: 평균 평점
- Lock: 비밀번호
- Bell: 알림

---

## 반응형 동작

### 데스크톱 (≥lg, ≥1024px)
- 그리드 레이아웃: `lg:grid-cols-2`
- 좌측 컬럼: 학적 정보 + 기본 정보
- 우측 컬럼: 장학 내역 + 계정 설정

### 모바일 (<lg, <1024px)
- 그리드 레이아웃: `grid-cols-1` (1열)
- 세로 스택:
  1. 프로필 카드
  2. 학적 정보
  3. 기본 정보
  4. 장학 내역
  5. 계정 및 보안

**프로필 카드 반응형:**
```tsx
<div className="flex flex-col md:flex-row items-center gap-8">
  {/* 모바일: 세로 / 데스크톱: 가로 */}
</div>

<div className="text-center md:text-left">
  {/* 모바일: 중앙 / 데스크톱: 좌측 정렬 */}
</div>

<div className="grid grid-cols-1 md:grid-cols-3 gap-4">
  {/* 모바일: 1열 / 데스크톱: 3열 */}
</div>
```

---

## 사용자 경험 개선

### 1. 한눈에 보는 학적 요약
- 학적 상태: 초록 점으로 시각화 (재학 중)
- 지도교수: 언제든지 확인 가능
- 취득 학점/평점: 큰 숫자로 강조

**효과:**
- 졸업 요건 파악 용이
- 학업 성취도 한눈에 확인

### 2. 투명한 장학금 관리
- 최근 장학금 목록 표시
- 수혜 내역 명확히 기록
- 총 금액 합계 자동 계산

**효과:**
- 재정 관리 투명성
- 장학금 신청 계획 수립

### 3. 향상된 보안 관리
- 비밀번호 변경 쉽게 접근
- 2단계 인증 ON/OFF 즉시 전환
- 알림 설정 편리하게 조절

**효과:**
- 계정 보안 강화
- 사용자 제어권 증대

---

## 성능 최적화

### State 관리
```tsx
const [twoFactorAuth, setTwoFactorAuth] = useState(false);
const [notifications, setNotifications] = useState(true);
```
- 토글 상태만 로컬 state
- 리렌더링 최소화

### 컴포넌트 구조
- 단일 파일로 통합
- 불필요한 컴포넌트 분리 없음
- 명확한 섹션 구분

---

## 접근성

### 키보드 네비게이션
✅ Tab으로 모든 버튼/토글 이동  
✅ Enter/Space로 토글 전환  
✅ 링크로 비밀번호 변경 페이지 이동  

### 시각적 피드백
✅ Hover 시 배경색 변경  
✅ 토글 ON/OFF 색상 명확  
✅ 초록 점으로 학적 상태 표시  

### 스크린 리더
✅ Semantic HTML  
✅ Alt text for status indicators  
✅ 명확한 레이블 (학적 상태, 총 취득 학점 등)  

---

## 요약

### 변경 사항
1. ✅ App.tsx 로고 경로 확인 및 Fallback 처리
2. ✅ MyPage 2단 그리드 레이아웃 (lg:grid-cols-2)
3. ✅ 학적 정보 섹션 (상태/교수/입학일자 + GPA/학점 위젯)
4. ✅ 장학 내역 섹션 (4개 항목 + 총 합계)
5. ✅ 계정 및 보안 섹션 (비밀번호/2FA/알림 토글)

### 디자인 원칙
- **Simple is Best**: 명확한 정보 계층
- **Easy to Use**: 토글로 간편한 설정
- **브랜드 일관성**: #a2c54e, rounded-3xl, shadow-sm

### 파일 수정
**수정:**
- `src/App.tsx` (로고 fallback)
- `src/pages/MyPage.tsx` (완전 재설계)

---

**작성**: 2026-01-13  
**다음 작업**: 공지사항 페이지 상세 구현 - 10
